<p>[toc]</p>
<h2>What's here?</h2>
<p>The API Platform Developer Guide is designed to get you up and and running with local development of API proxies that deploy and scale on the Apigee API Platform. The focus of development on the API Platform is the API proxy. An API proxy is an application that runs on the Apigee API Platform and which serves as a proxy for one or more backend services or APIs. Using API proxies, you can proxy any publicly available API, which makes the API Platform a great solution for developers who need to customize the behavior of APIs--whether the developer controls the API or not. Once you proxy an API with an API proxy, all of the enterprise capabilities of Apigee are at your disposal. You can:</p>
<ul>
	<li>Leverage a policy library to implement common behavior without writing any code</li>
	<li>Innovate on the API Platform by writing and deploying custom code in the Cloud</li>
	<li>Combine policies and custom code to create sophisticated yet easy-to-manage and secure applications</li>
	<li>Provision and manage API keys and OAuth authorization</li>
	<li>Monitor the operational performance of APIs</li>
	<li>Track and analyze consumption patterns by developers and apps</li>
	<li>Expose the capabilities that you implement as APIs, complete with an API Console, enabling re-use across projects or sharing with other developers</li>
</ul>
<p>This Developer Guide provides instruction on local development of API proxies. As such, it assumes basic knowledge of:</p>
<ul>
	<li>Representational State Transfer (REST)</li>
	<li>JavaScript Object Notation</li>
	<li>Extensible Markup Language</li>
	<li>XML Schema</li>
	<li>Web Application Definition Language (WADL)</li>
</ul>
<p>Optionally:</p>
<ul>
	<li>JavaScript and Python scripting languages</li>
	<li>Java programming language</li>
</ul>
<p>For those who prefer UI-based API proxy configuration, please refer to the the <a href="/docs/enterprise/content/user_guide">API Platform User Guide</a>.</p>
<p>In this Developer Guide you will learn:</p>
<ul>
	<li>How to configure a basic API proxy</li>
	<li>How to upload, deploy, and test API proxies on the API Platform</li>
	<li>How to configure policies and attach them to an API proxy</li>
	<li>How to write scripts and code that execute as components of an API proxy</li>
	<li>How to implement common use cases required by API developers</li>
	<li>How to expose and reuse your policy compositions and code as APIs using WADL and API Consoles</li>
	<li>How to configure environment settings for your organization on the API Platform</li>
</ul>
<h2>Set up</h2>
<h3>An Apigee API platform account</h3>
<p>The Apigee API Platform enables any developer to leverage the enterprise-strength capabilities of Apigee Enterprise. Apigee provides free accounts that give you access to all of the features available to enterprise customers. You can sign up for a free account at <a href="http://enterprise.apigee.com/signup">http://enterprise.apigee.com/signup</a>.</p>
<p>An Apigee API Platform account provides you with:</p>
<ul>
	<li>An organization</li>
	<li>A username</li>
	<li>A password</li>
</ul>
<p>You use these credentials to login to <a href="http://enterprise.apigee.com">enterprise.apigee.com</a> and to access the RESTful API exposed by the Apigee API Platform. If you need an account in an existing organization, please contact your organization administrator.</p>
<h3>API Platform Samples</h3>
<p>The developer topics as a whole rely on a set of samples that are located on Github.</p>
<p>To obtain the sample files, run:</p>
<div id="well">
	<pre>$ git clone https://github.com/apigee/api-platform-samples.git</pre>
</div>
<p>If you do not have Git, please refer to <a href="https://help.github.com/articles/set-up-git">Github's git setup instructions</a>. If you don't want to install Git, you can browse the files at <a href="https://github.com/apigee/api-platform-samples">https://github.com/apigee/api-platform-samples</a>.</p>
<h3>Python</h3>
<p>Python is required to run the Apigee deploy tool. Python is present in most Linux environments, on a Mac with XCode installed, on a Windows machine with&nbsp;<a href="http://www.cygwin.com/">Cygwin</a>&nbsp;installed, and in many other places.</p>
<p>To obtain Python, please refer to the&nbsp;<a href="http://www.python.org/getit/">Python installation instructions</a>.</p>
<h3>An HTTP Client</h3>
<p>The Developer Guide provides sample HTTP requests using cURL. If you need cURL, you can download&nbsp;it from http://curl.haxx.se. You can also refer to the cURL documentation for usage.</p>
<p>If you prefer to use a different HTTP client, you can use the curl commands as a basis for creating a request in your HTTP client of choice.</p>
<p>For example, you can interact with the Apigee API Platform using the <a href="https://apigee.com/enterprise/embed/console/apigee--api?v=2">Apigee API &nbsp;Console</a>.</p>
<ol>
	<li>Under Authentication, select Basic Auth.&nbsp;</li>
	<li>Enter the username and password for your Apigee API platform user account. (This is the username/password combination that you use to log in to <a href="http://enterprise.apigee.com/login">enterprise.apigee.com/login</a>)</li>
	<li>Under Template, enter the name for your Apigee organization as the value for <span style="font-family:courier new,courier,monospace;">org_name</span></li>
	<li>Select an API resource and method, for example, "List API Proxies"</li>
	<li>Select Send</li>
</ol>
<h3>How to use the sample cURL commands</h3>
<p>The goal of the topic is to enable you to cut and paste cURL commands provided in the documentation directly into your command-line terminal.</p>
<p>After you cut and paste the command to your terminal, you must replace variables in the command with information for your Apigee account:</p>
<ul>
	<li>myname: The username for your Apigee account</li>
	<li>mypass: The password for your account in an Apigee account</li>
	<li>myorg: The name of your organization</li>
</ul>
<p>Note: Specific values within responses my differ given the differences in username, time values, etc.</p>
<h2>Step 1: Invoke the Weather API directly</h2>
<p>In this example, you create an API proxy for Yahoo's Weather API. Begin by invoking the API directly:</p>
<div class="well">$ curl http://weather.yahooapis.com/forecastrss?w=12797282</div>
<p>Sample Response</p>
<div id="well">
	<pre>&lt;title&gt;Yahoo! Weather - Palo Alto, CA&lt;/title&gt;
&lt;link&gt;http://us.rd.yahoo.com/dailynews/rss/weather/Palo_Alto__CA/*http://weather.yahoo.com/forecast/USCA1093_f.html&lt;/link&gt;&lt;description&gt;Yahoo! Weather for Palo Alto, CA&lt;/description&gt;
&lt;language&gt;en-us&lt;/language&gt;
&lt;lastBuildDate&gt;Wed, 08 Aug 2012 9:47 am PDT&lt;/lastBuildDate&gt;
&lt;ttl&gt;60&lt;/ttl&gt;
&lt;yweather:location city="Palo Alto" region="CA"   country="United States"/&gt;
&lt;yweather:units temperature="F" distance="mi" pressure="in" speed="mph"/&gt;
&lt;yweather:wind chill="66"   direction="10"   speed="8" /&gt;
&lt;yweather:atmosphere humidity="73"  visibility=""  pressure="30.02"  rising="0" /&gt;
&lt;yweather:astronomy sunrise="6:18 am"   sunset="8:08 pm"/&gt;</pre>
</div>
<h2>Step 2: Import and deploy simpleProxy to the API Platform</h2>
<div id="well">
	<p>The simple Proxy is the most basic API proxy supported on the API Platform. It defines a name for the API, a target URL (which the API platform uses to consume the Yahoo Weather API), and a proxy URL (which client apps use to consume your API). &nbsp;Such API proxies are commonly refered to as "passthrough" proxies, since they merely forward requests and return responses with manipulating them.</p>
	<pre>$ git clone https://github.com/apigee/api-platform-samples.git</pre>
</div>
<div id="well">
	<pre>$ cd api-platform-samples</pre>
</div>
<p>Note the directory called <code>simpleProxy</code>. That directory contains the configuration that constitute your API proxy.</p>
<p>Use Apigeeâ€™s Python tool to import (upload) and deploy your API in one simple process.</p>
<p>The deploy tool must be run from the base directory in the distribution. You provide a pointer to the directory that contains the <code>/apiproxy</code> directory, in this case <code>simpleProxy</code></p>
<p>Substitute your username, password, and Apigee organization in the following command for <code>myname:mypass</code> and <code>myorg</code>.</p>
<p>For example, from the base directory of <code>api-platform-samples</code>, run:</p>
<pre>$ python tools/deploy.py -n weatherapi -u myname:mypass -o myorg -e test -p / -d simpleProxy</pre>
<p>This single action zips your files, pushes them to your organization on Apigee, and deploys them to the specified environment.</p>
<p>On success you see:</p>
<pre>Writing ./simpleProxy/apiproxy/weatherapi.xml to apiproxy/weatherapi.xml
Writing ./simpleProxy/apiproxy/proxies/default.xml to apiproxy/proxies/default.xml
Writing ./simpleProxy/apiproxy/targets/default.xml to apiproxy/targets/default.xml
Imported new proxy version 1
Environment: test
  Revision: 1 BasePath = /
  State: deployed</pre>
<p>The tool has zipped up your files, imported the package to Apigee, and deployed to the 'test' environment in your Apigee organization.</p>
<p>Your API is ready to be invoked.</p>
<h2>Step 3: Invoke the proxied Weather API</h2>
<p>Substitute your organization name for <code>{org_name}</code> in the request below</p>
<pre>$ curl http://{org_name}-test.apigee.net/weather/forecastrss?w=12797282</pre>
<p>Sample Response</p>
<div id="well">
	<pre>&lt;title&gt;Yahoo! Weather - Palo Alto, CA&lt;/title&gt;
&lt;link&gt;http://us.rd.yahoo.com/dailynews/rss/weather/Palo_Alto__CA/*http://weather.yahoo.com/forecast/USCA1093_f.html&lt;/link&gt;&lt;description&gt;Yahoo! Weather for Palo Alto, CA&lt;/description&gt;
&lt;language&gt;en-us&lt;/language&gt;
&lt;lastBuildDate&gt;Wed, 08 Aug 2012 9:47 am PDT&lt;/lastBuildDate&gt;
&lt;ttl&gt;60&lt;/ttl&gt;
&lt;yweather:location city="Palo Alto" region="CA"   country="United States"/&gt;
&lt;yweather:units temperature="F" distance="mi" pressure="in" speed="mph"/&gt;
&lt;yweather:wind chill="66"   direction="10"   speed="8" /&gt;
&lt;yweather:atmosphere humidity="73"  visibility=""  pressure="30.02"  rising="0" /&gt;
&lt;yweather:astronomy sunrise="6:18 am"   sunset="8:08 pm"/&gt;</pre>
</div>
<h2>Getting help</h2>
<p>If you have any issues with the topic, post them to the at&nbsp;<a href="http://support.apigee.com">Apigee Developer Forum</a>.</p>
<h2>Next steps</h2>
<p>Now that you understand API Platform basics, refer to the <a href="/docs/enterprise/content/developer_guide">API platform topics</a> to learn how to apply advanced features to your API proxy.</p>
